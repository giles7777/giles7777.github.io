{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { cssClasses, strings } from './constants';\nimport { MDCMenuSurfaceFoundation } from './foundation';\nimport * as util from './util';\n\nvar MDCMenuSurface =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(MDCMenuSurface, _super);\n\n  function MDCMenuSurface() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MDCMenuSurface.attachTo = function (root) {\n    return new MDCMenuSurface(root);\n  };\n\n  MDCMenuSurface.prototype.initialSyncWithDOM = function () {\n    var _this = this;\n\n    var parentEl = this.root_.parentElement;\n    this.anchorElement = parentEl && parentEl.classList.contains(cssClasses.ANCHOR) ? parentEl : null;\n\n    if (this.root_.classList.contains(cssClasses.FIXED)) {\n      this.setFixedPosition(true);\n    }\n\n    this.handleKeydown_ = function (evt) {\n      return _this.foundation_.handleKeydown(evt);\n    };\n\n    this.handleBodyClick_ = function (evt) {\n      return _this.foundation_.handleBodyClick(evt);\n    };\n\n    this.registerBodyClickListener_ = function () {\n      return document.body.addEventListener('click', _this.handleBodyClick_);\n    };\n\n    this.deregisterBodyClickListener_ = function () {\n      return document.body.removeEventListener('click', _this.handleBodyClick_);\n    };\n\n    this.listen('keydown', this.handleKeydown_);\n    this.listen(strings.OPENED_EVENT, this.registerBodyClickListener_);\n    this.listen(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n  };\n\n  MDCMenuSurface.prototype.destroy = function () {\n    this.unlisten('keydown', this.handleKeydown_);\n    this.unlisten(strings.OPENED_EVENT, this.registerBodyClickListener_);\n    this.unlisten(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n\n    _super.prototype.destroy.call(this);\n  };\n\n  MDCMenuSurface.prototype.isOpen = function () {\n    return this.foundation_.isOpen();\n  };\n\n  MDCMenuSurface.prototype.open = function () {\n    this.foundation_.open();\n  };\n\n  MDCMenuSurface.prototype.close = function (skipRestoreFocus) {\n    if (skipRestoreFocus === void 0) {\n      skipRestoreFocus = false;\n    }\n\n    this.foundation_.close(skipRestoreFocus);\n  };\n\n  Object.defineProperty(MDCMenuSurface.prototype, \"quickOpen\", {\n    set: function set(quickOpen) {\n      this.foundation_.setQuickOpen(quickOpen);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /** Sets the foundation to use page offsets for an positioning when the menu is hoisted to the body. */\n\n  MDCMenuSurface.prototype.setIsHoisted = function (isHoisted) {\n    this.foundation_.setIsHoisted(isHoisted);\n  };\n  /** Sets the element that the menu-surface is anchored to. */\n\n\n  MDCMenuSurface.prototype.setMenuSurfaceAnchorElement = function (element) {\n    this.anchorElement = element;\n  };\n  /** Sets the menu-surface to position: fixed. */\n\n\n  MDCMenuSurface.prototype.setFixedPosition = function (isFixed) {\n    if (isFixed) {\n      this.root_.classList.add(cssClasses.FIXED);\n    } else {\n      this.root_.classList.remove(cssClasses.FIXED);\n    }\n\n    this.foundation_.setFixedPosition(isFixed);\n  };\n  /** Sets the absolute x/y position to position based on. Requires the menu to be hoisted. */\n\n\n  MDCMenuSurface.prototype.setAbsolutePosition = function (x, y) {\n    this.foundation_.setAbsolutePosition(x, y);\n    this.setIsHoisted(true);\n  };\n  /**\n   * @param corner Default anchor corner alignment of top-left surface corner.\n   */\n\n\n  MDCMenuSurface.prototype.setAnchorCorner = function (corner) {\n    this.foundation_.setAnchorCorner(corner);\n  };\n\n  MDCMenuSurface.prototype.setAnchorMargin = function (margin) {\n    this.foundation_.setAnchorMargin(margin);\n  };\n\n  MDCMenuSurface.prototype.getDefaultFoundation = function () {\n    var _this = this; // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n    // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n    // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n\n\n    var adapter = {\n      addClass: function addClass(className) {\n        return _this.root_.classList.add(className);\n      },\n      removeClass: function removeClass(className) {\n        return _this.root_.classList.remove(className);\n      },\n      hasClass: function hasClass(className) {\n        return _this.root_.classList.contains(className);\n      },\n      hasAnchor: function hasAnchor() {\n        return !!_this.anchorElement;\n      },\n      notifyClose: function notifyClose() {\n        return _this.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT, {});\n      },\n      notifyOpen: function notifyOpen() {\n        return _this.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, {});\n      },\n      isElementInContainer: function isElementInContainer(el) {\n        return _this.root_.contains(el);\n      },\n      isRtl: function isRtl() {\n        return getComputedStyle(_this.root_).getPropertyValue('direction') === 'rtl';\n      },\n      setTransformOrigin: function setTransformOrigin(origin) {\n        var propertyName = util.getTransformPropertyName(window) + \"-origin\";\n\n        _this.root_.style.setProperty(propertyName, origin);\n      },\n      isFocused: function isFocused() {\n        return document.activeElement === _this.root_;\n      },\n      saveFocus: function saveFocus() {\n        _this.previousFocus_ = document.activeElement;\n      },\n      restoreFocus: function restoreFocus() {\n        if (_this.root_.contains(document.activeElement)) {\n          if (_this.previousFocus_ && _this.previousFocus_.focus) {\n            _this.previousFocus_.focus();\n          }\n        }\n      },\n      getInnerDimensions: function getInnerDimensions() {\n        return {\n          width: _this.root_.offsetWidth,\n          height: _this.root_.offsetHeight\n        };\n      },\n      getAnchorDimensions: function getAnchorDimensions() {\n        return _this.anchorElement ? _this.anchorElement.getBoundingClientRect() : null;\n      },\n      getWindowDimensions: function getWindowDimensions() {\n        return {\n          width: window.innerWidth,\n          height: window.innerHeight\n        };\n      },\n      getBodyDimensions: function getBodyDimensions() {\n        return {\n          width: document.body.clientWidth,\n          height: document.body.clientHeight\n        };\n      },\n      getWindowScroll: function getWindowScroll() {\n        return {\n          x: window.pageXOffset,\n          y: window.pageYOffset\n        };\n      },\n      setPosition: function setPosition(position) {\n        _this.root_.style.left = 'left' in position ? position.left + \"px\" : '';\n        _this.root_.style.right = 'right' in position ? position.right + \"px\" : '';\n        _this.root_.style.top = 'top' in position ? position.top + \"px\" : '';\n        _this.root_.style.bottom = 'bottom' in position ? position.bottom + \"px\" : '';\n      },\n      setMaxHeight: function setMaxHeight(height) {\n        _this.root_.style.maxHeight = height;\n      }\n    }; // tslint:enable:object-literal-sort-keys\n\n    return new MDCMenuSurfaceFoundation(adapter);\n  };\n\n  return MDCMenuSurface;\n}(MDCComponent);\n\nexport { MDCMenuSurface };","map":{"version":3,"sources":["component.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { cssClasses, strings } from './constants';\nimport { MDCMenuSurfaceFoundation } from './foundation';\nimport * as util from './util';\nvar MDCMenuSurface = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCMenuSurface, _super);\n    function MDCMenuSurface() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MDCMenuSurface.attachTo = function (root) {\n        return new MDCMenuSurface(root);\n    };\n    MDCMenuSurface.prototype.initialSyncWithDOM = function () {\n        var _this = this;\n        var parentEl = this.root_.parentElement;\n        this.anchorElement = parentEl && parentEl.classList.contains(cssClasses.ANCHOR) ? parentEl : null;\n        if (this.root_.classList.contains(cssClasses.FIXED)) {\n            this.setFixedPosition(true);\n        }\n        this.handleKeydown_ = function (evt) { return _this.foundation_.handleKeydown(evt); };\n        this.handleBodyClick_ = function (evt) { return _this.foundation_.handleBodyClick(evt); };\n        this.registerBodyClickListener_ = function () { return document.body.addEventListener('click', _this.handleBodyClick_); };\n        this.deregisterBodyClickListener_ = function () { return document.body.removeEventListener('click', _this.handleBodyClick_); };\n        this.listen('keydown', this.handleKeydown_);\n        this.listen(strings.OPENED_EVENT, this.registerBodyClickListener_);\n        this.listen(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n    };\n    MDCMenuSurface.prototype.destroy = function () {\n        this.unlisten('keydown', this.handleKeydown_);\n        this.unlisten(strings.OPENED_EVENT, this.registerBodyClickListener_);\n        this.unlisten(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n        _super.prototype.destroy.call(this);\n    };\n    MDCMenuSurface.prototype.isOpen = function () {\n        return this.foundation_.isOpen();\n    };\n    MDCMenuSurface.prototype.open = function () {\n        this.foundation_.open();\n    };\n    MDCMenuSurface.prototype.close = function (skipRestoreFocus) {\n        if (skipRestoreFocus === void 0) { skipRestoreFocus = false; }\n        this.foundation_.close(skipRestoreFocus);\n    };\n    Object.defineProperty(MDCMenuSurface.prototype, \"quickOpen\", {\n        set: function (quickOpen) {\n            this.foundation_.setQuickOpen(quickOpen);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** Sets the foundation to use page offsets for an positioning when the menu is hoisted to the body. */\n    MDCMenuSurface.prototype.setIsHoisted = function (isHoisted) {\n        this.foundation_.setIsHoisted(isHoisted);\n    };\n    /** Sets the element that the menu-surface is anchored to. */\n    MDCMenuSurface.prototype.setMenuSurfaceAnchorElement = function (element) {\n        this.anchorElement = element;\n    };\n    /** Sets the menu-surface to position: fixed. */\n    MDCMenuSurface.prototype.setFixedPosition = function (isFixed) {\n        if (isFixed) {\n            this.root_.classList.add(cssClasses.FIXED);\n        }\n        else {\n            this.root_.classList.remove(cssClasses.FIXED);\n        }\n        this.foundation_.setFixedPosition(isFixed);\n    };\n    /** Sets the absolute x/y position to position based on. Requires the menu to be hoisted. */\n    MDCMenuSurface.prototype.setAbsolutePosition = function (x, y) {\n        this.foundation_.setAbsolutePosition(x, y);\n        this.setIsHoisted(true);\n    };\n    /**\n     * @param corner Default anchor corner alignment of top-left surface corner.\n     */\n    MDCMenuSurface.prototype.setAnchorCorner = function (corner) {\n        this.foundation_.setAnchorCorner(corner);\n    };\n    MDCMenuSurface.prototype.setAnchorMargin = function (margin) {\n        this.foundation_.setAnchorMargin(margin);\n    };\n    MDCMenuSurface.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n        var adapter = {\n            addClass: function (className) { return _this.root_.classList.add(className); },\n            removeClass: function (className) { return _this.root_.classList.remove(className); },\n            hasClass: function (className) { return _this.root_.classList.contains(className); },\n            hasAnchor: function () { return !!_this.anchorElement; },\n            notifyClose: function () { return _this.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT, {}); },\n            notifyOpen: function () { return _this.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, {}); },\n            isElementInContainer: function (el) { return _this.root_.contains(el); },\n            isRtl: function () { return getComputedStyle(_this.root_).getPropertyValue('direction') === 'rtl'; },\n            setTransformOrigin: function (origin) {\n                var propertyName = util.getTransformPropertyName(window) + \"-origin\";\n                _this.root_.style.setProperty(propertyName, origin);\n            },\n            isFocused: function () { return document.activeElement === _this.root_; },\n            saveFocus: function () {\n                _this.previousFocus_ = document.activeElement;\n            },\n            restoreFocus: function () {\n                if (_this.root_.contains(document.activeElement)) {\n                    if (_this.previousFocus_ && _this.previousFocus_.focus) {\n                        _this.previousFocus_.focus();\n                    }\n                }\n            },\n            getInnerDimensions: function () {\n                return { width: _this.root_.offsetWidth, height: _this.root_.offsetHeight };\n            },\n            getAnchorDimensions: function () { return _this.anchorElement ? _this.anchorElement.getBoundingClientRect() : null; },\n            getWindowDimensions: function () {\n                return { width: window.innerWidth, height: window.innerHeight };\n            },\n            getBodyDimensions: function () {\n                return { width: document.body.clientWidth, height: document.body.clientHeight };\n            },\n            getWindowScroll: function () {\n                return { x: window.pageXOffset, y: window.pageYOffset };\n            },\n            setPosition: function (position) {\n                _this.root_.style.left = 'left' in position ? position.left + \"px\" : '';\n                _this.root_.style.right = 'right' in position ? position.right + \"px\" : '';\n                _this.root_.style.top = 'top' in position ? position.top + \"px\" : '';\n                _this.root_.style.bottom = 'bottom' in position ? position.bottom + \"px\" : '';\n            },\n            setMaxHeight: function (height) {\n                _this.root_.style.maxHeight = height;\n            },\n        };\n        // tslint:enable:object-literal-sort-keys\n        return new MDCMenuSurfaceFoundation(adapter);\n    };\n    return MDCMenuSurface;\n}(MDCComponent));\nexport { MDCMenuSurface };\n//# sourceMappingURL=component.js.map"]},"metadata":{},"sourceType":"module"}