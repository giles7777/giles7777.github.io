{"map":{"version":3,"sources":["static/js/main.efdf5e02.chunk.js"],"names":["this","push","41","module","exports","__webpack_require__","46","56","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","three_module","OrbitControls","World_World","World","Object","key","value","x","y","z","slicedToArray","toConsumableArray","Agent_Agent","Agent","context","radio","id","world","size","rotx","arguments","length","undefined","roty","rotz","marked","THREE","state","createMesh","neighbors","Error","val","i","group","children","remove","add","mesh","geometry","SphereGeometry","Math","PI","material","MeshBasicMaterial","color","marker","Mesh","position","copy","Vector3","rotation","Group","time","index","indexOf","splice","msg","next","textfield_next","next_select","States","Messages","ConwayAgent_ConwayAgent","_Agent","ConwayAgent","_super","_this","params","alive","call","debugSim","debugNetwork","lastStateSend","lastCycle","neighborState","Map","setAlive","batch","aliveCount","setHex","_this2","stateSendTime","command","console","log","sendMessage","cycleTime","forEach","k","v","random","spontaneousGeneration","resurrectionChance","_i","_msg","wrapper","JSON","stringify","set","from","a","createElement","ConwayControl","props","_useState","startPattern","_useState2","setStartPattern","_useState3","_useState4","setSize","_useState5","_useState6","setCycleTime","_useState7","_useState8","setSpontaneousGeneration","_useState9","_useState10","setResurrectionChance","style","width","border","padding","onSubmit","evt","preventDefault","paramsChangedAction","height","margin","display","marginTop","label","options","onChange","e","target","required","parseInt","type","src_SimControl","onClick","playAction","pauseAction","stepAction","resetAction","src_CameraControl","maxWidth","delta","clock","App_App","_Component","App","_len","args","Array","_key","apply","concat","debugNeighbors","showNeighborsFor","messages","simPaused","pauseTime","Number","MAX_SAFE_INTEGER","lastLoopTime","Date","getTime","agentParams","worldSetup","agentSetup","pattern","test","agents","px","py","agent","sceneSetup","el","clientWidth","clientHeight","scene","camera","controls","renderer","appendChild","domElement","addCustomSceneObjects","getMesh","calcAgentNeighbors","lights","startAnimationLoop","requestID","window","requestAnimationFrame","now","setState","to","receiveMessage","_i2","loop","render","getDelta","handleWindowResize","aspect","updateProjectionMatrix","addEventListener","removeEventListener","cancelAnimationFrame","dispose","max","agentIdx","distances","pos","getPosition","dist","distanceToSquared","sort","b","len","min","_i3","setNeighbors","_neighbors","getNeighbors","_i4","setMarked","milliseconds","date","currentDate","reset","handleSimReset","_i5","getMarked","isAlive","markNeighbors","row","showAliveCount","handleSimStep","ref","_ref","onKeyPress","handleKeyPressed","autoFocus","handleSimPause","handleSimPlay","handleCameraReset","assign","param","handleAgentParamsChanged","src_App","Boolean","location","hostname","match","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAglB,MAAM,QAAQzF,QAAQC,IAAI,mBAAmBwF,EAAQC,EAAa,IAAI3J,EAAKiD,EAAOjD,KAAQA,EAAK0J,EAAQvJ,SAAQH,EAAK0J,EAAQvJ,QAAQ6C,EAAM4G,OAAO,GAAG,IAAI,IAAItK,EAAE,EAAEA,EAAEU,EAAKV,IAAK,IAAI,IAAID,EAAE,EAAEA,EAAEW,EAAKX,IAAI,CAAC,IAAI6D,GAAM,EAAS2G,EAAGxK,EAAMyK,EAAGxK,EAAKkF,EAAQtB,EAAM5B,KAAKkD,SAA3hG,IAAijGqF,EAAGxK,EAAEyK,EAAG9J,EAAKV,EAAE,EAAE4D,EAAsB,IAAhBwG,EAAQpK,GAAGD,IAAQ,IAAI0K,EAAM,IAAInH,EAAwB9D,EAAaI,OAAOP,EAAuC,EAA9CO,CAAiD8D,GAAOlD,IAAKkD,EAAMjD,MAAM,GAAI8J,EAAG7J,EAAK,EAAE8J,EAAG9J,EAAK,EAAE,EAAEsB,KAAKC,GAAG,EAAE,EAAE,EAAE0B,EAAOC,GAClnIF,EAAM4G,OAAOtK,EAAEU,EAAKX,GAAG0K,IAAU/G,EAAMgH,WAAW,WAClD,IAAIzD,EAAMvD,EAAMiH,GAAGC,YAAgBpD,EAAO9D,EAAMiH,GAAGE,aAAanH,EAAMoH,MAAM,IAAItL,EAAoB,MAAIkE,EAAMqH,OAAO,IAAIvL,EAAgC,kBAAE,GAC3JyH,EAAMO,EACN,GACA,KACE9D,EAAMqH,OAAOxI,SAAStC,EAAE,GAG1ByD,EAAMsH,SAAS,IAAIvL,EAAqC,EAAEiE,EAAMqH,OAAOrH,EAAMiH,IAAIjH,EAAMuH,SAAS,IAAIzL,EAA4B,cAAIkE,EAAMuH,SAAS3E,QAAQW,EAAMO,GAAQ9D,EAAMiH,GAAGO,YAAYxH,EAAMuH,SAASE,aAC3MzH,EAAM0H,sBAAsB,WAAW,IAAI,IAAIrM,EAAE,EAAEA,EAAE2E,EAAM4G,OAAOzJ,OAAO9B,IAAK2E,EAAMoH,MAAMlJ,IAAI8B,EAAM4G,OAAOvL,GAAGsM,WAAY3H,EAAM4H,mBAAmB,GAAG,IAAIC,EAAO,GAAGA,EAAO,GAAG,IAAI/L,EAAyB,WAAE,SAAS,EAAE,GAAG+L,EAAO,GAAG,IAAI/L,EAAyB,WAAE,SAAS,EAAE,GAAG+L,EAAO,GAAG,IAAI/L,EAAyB,WAAE,SAAS,EAAE,GAAG+L,EAAO,GAAGhJ,SAASmD,IAAI,EAAE,IAAI,GAAG6F,EAAO,GAAGhJ,SAASmD,IAAI,IAAI,IAAI,KAAK6F,EAAO,GAAGhJ,SAASmD,KAAK,KAAK,KAAK,MAG/ahC,EAAM8H,mBAAmB,WAAW9H,EAAM+H,UAAUC,OAAOC,sBAAsBjI,EAAM8H,oBAAoB,IAAII,GAAI,IAAI7B,MAAOC,UAAU,IAAItG,EAAMgG,UAAU,CAC9JhG,EAAMd,MAAMgJ,EAAIlI,EAAMoG,aAAapG,EAAMmI,SAAS,CAACjJ,KAAKc,EAAMd,OAAqB,IAAd,IAAIjB,EAAO,GAAWH,EAAE,EAAEA,EAAEkC,EAAM+F,SAAS5I,OAAOW,IAAQkC,EAAM+F,SAASjI,GAAGoB,KAAKc,EAAMd,OAASc,EAAMK,cAAaY,QAAQC,IAAI,oBAAoBY,KAAKC,UAAU/B,EAAM+F,SAASjI,KAAsC,qBAAvBkC,EAAM+F,SAASjI,GAAGsK,GAAkBnH,QAAQC,IAAI,oBAAoBY,KAAKC,UAAU/B,EAAM+F,SAASjI,KAAWkC,EAAM4G,OAAO5G,EAAM+F,SAASjI,GAAGsK,IAAIC,eAAerI,EAAM+F,SAASjI,IAAKG,EAAOvD,KAAKoD,IAAK,IAAI,IAAI6D,EAAG,EAAEA,EAAG1D,EAAOd,OAAOwE,IAAM3B,EAAM+F,SAAS1G,OAAOpB,EAAO0D,GAAIA,EAAG,GAEjhB,IAAI,IAAI2G,EAAI,EAAEA,EAAItI,EAAM4G,OAAOzJ,OAAOmL,IAAOtI,EAAM4G,OAAO0B,GAAKC,KAAKvI,EAAMd,MAC1E,GAAGc,EAAMd,KAAKc,EAAMiG,UAAwH,OAA7GjG,EAAMgG,WAAU,EAAKhG,EAAMuH,SAASiB,OAAOxI,EAAMoH,MAAMpH,EAAMqH,aAAQrH,EAAMiG,UAAUC,OAAOC,kBAA0BnG,EAAMoG,aAAa8B,GAAIhD,GAAOC,EAAMsD,YAlBrF,EAAE,KAkByHzI,EAAMuH,SAASiB,OAAOxI,EAAMoH,MAAMpH,EAAMqH,QAAQnC,GAlB3K,EAAE,KAkBgMlF,EAAM0I,mBAAmB,WAAW,IAAInF,EAAMvD,EAAMiH,GAAGC,YAAgBpD,EAAO9D,EAAMiH,GAAGE,aAAanH,EAAMuH,SAAS3E,QAAQW,EAAMO,GAAQ9D,EAAMqH,OAAOsB,OAAOpF,EAAMO,EAEzc9D,EAAMqH,OAAOuB,0BAAkC5I,EAOglC,OAPzkC9D,OAAOR,EAA6B,EAApCQ,CAAuCoJ,EAAI,CAAC,CAACnJ,IAAI,oBAAoBC,MAAM,WAA6B3B,KAAK+L,aAAa/L,KAAKgM,WAAWhM,KAAK8L,aAAa9L,KAAKuM,aAAavM,KAAKiN,wBAAwBjN,KAAKqN,qBAAqBE,OAAOa,iBAAiB,SAASpO,KAAKiO,oBAAoBjO,KAAK0N,SAAS,CAACjJ,KAAK,IACzWzE,KAAK8M,SAASiB,OAAO/N,KAAK2M,MAAM3M,KAAK4M,UAAW,CAAClL,IAAI,uBAAuBC,MAAM,WAAgC4L,OAAOc,oBAAoB,SAASrO,KAAKiO,oBAAoBV,OAAOe,qBAAqBtO,KAAKsN,WAAWtN,KAAK6M,SAAS0B,YACvO,CAAC7M,IAAI,qBACPC,MAAM,SAA4B6M,GAAQxO,KAAKoL,gBAAe5E,QAAQC,IAAI,yBAAyB,IAAI,IAAIgI,EAAS,EAAEA,EAASzO,KAAKmM,OAAOzJ,OAAO+L,IAAW,CAAIzO,KAAKoL,gBAAe5E,QAAQC,IAAI,UAAUgI,GAAuF,IAA7E,IAAIC,EAAU,GAAuCC,EAA1B3O,KAAKmM,OAAOsC,GAAwBG,cAAsBvL,EAAE,EAAEA,EAAErD,KAAKmM,OAAOzJ,OAAOW,IAAK,GAAGA,IAAIoL,EAAS,CAAC,IAAII,EAAK7O,KAAKmM,OAAO9I,GAAGuL,cAAcE,kBAAkBH,GAAKD,EAAUzO,KAAK,CAAC4O,KAAKA,EAAKJ,SAASpL,IAAMqL,EAAUK,MAAK,SAAStH,EAAEuH,GAAG,OAAOvH,EAAEoH,KAAKG,EAAEH,QAAW7O,KAAKoL,gBAAe5E,QAAQC,IAAIY,KAAKC,UAAUoH,IAC9e,IAAxD,IAAIxL,EAAU,GAAO+L,EAAIpL,KAAKqL,IAAIV,EAAIE,EAAUhM,QAAgByM,EAAI,EAAEA,EAAIF,EAAIE,IAAOjM,EAAUiM,GAAKT,EAAUS,GAAKV,SAAazO,KAAKoL,gBAAe5E,QAAQC,IAAIY,KAAKC,UAAUpE,IAAYlD,KAAKmM,OAAOsC,GAAUW,aAAalM,GAAY,IAA4B,IAAzBlD,KAAKqL,iBAAwF,IAAjE,IAAIgE,EAAWrP,KAAKmM,OAAOnM,KAAKqL,kBAAkBiE,eAAuBC,EAAI,EAAEA,EAAIF,EAAW3M,OAAO6M,IAAOvP,KAAKmM,OAAOkD,EAAWE,IAAMC,WAAU,KAAW,CAAC9N,IAAI,QAAQC,MAAM,SAAe8N,GAAc,IAAIC,EAAK9D,KAAK6B,MAAUkC,EAAY,KAAK,GAAGA,EAAY/D,KAAK6B,YAAakC,EAAYD,EAAKD,KAAiB,CAAC/N,IAAI,cAAcC,MAAM,SAAqB6F,EAAKmG,EAAG9I,GAA6G,GAArG7E,KAAK4F,cAAcY,QAAQC,IAAI,uBAAuBe,EAAK,QAAQmG,EAAG,SAAStG,KAAKC,UAAUzC,IAAwB,qBAAP2C,EAAoB,MAAM,IAAIrE,MAAM,oBAAqB,GAAe,qBAALwK,EAAkB,MAAM,IAAIxK,MAAM,kBAAmBnD,KAAKsL,SAASrL,KAAK,CAACuH,KAAKA,EAAKmG,GAAGA,EAAG9I,IAAIA,EAAIJ,KAAKzE,KAAKyE,KAxB5xB,EAwBiyBZ,KAAKkD,aAAmC,CAACrF,IAAI,iBAAiBC,MAAM,WAA0B3B,KAAKuL,WAAU,IAAQ,CAAC7J,IAAI,gBAAgBC,MAAM,WAAyB3B,KAAKuL,WAAU,EAAMvL,KAAK2L,cAAa,IAAIC,MAAOC,YAC5nC,CAACnK,IAAI,gBAAgBC,MAAM,WAAyB3B,KAAKuL,WAAU,EAAMvL,KAAK2L,cAAa,IAAIC,MAAOC,UAAU7L,KAAKwL,UAAUxL,KAAKyE,KAAKzE,KAAK8L,YAAYnF,YAAa,CAACjF,IAAI,iBAAiBC,MAAM,WAAkJ,IAAxH3B,KAAKuL,WAAU,EAAKvL,KAAKyE,KAAK,EAAEzE,KAAK0N,SAAS,CAACjJ,KAAKzE,KAAKyE,OAAOzE,KAAK2L,cAAa,IAAIC,MAAOC,UAAU7L,KAAKsL,SAAS,GAAStL,KAAK2M,MAAMpJ,SAASb,OAAO,GAAG1C,KAAK2M,MAAMnJ,OAAOxD,KAAK2M,MAAMpJ,SAAS,IAAKvD,KAAKgM,WAAWhM,KAAK8L,aAAa9L,KAAKiN,0BAA2B,CAACvL,IAAI,oBAAoBC,MAAM,WAA6B3B,KAAK6M,SAAS+C,UAAW,CAAClO,IAAI,2BAA2BC,MAAM,SAAkC6D,GAAQgB,QAAQC,IAAI,mBAAmBY,KAAKC,UAAU9B,IAASxF,KAAK8L,YAAYrK,OAAOV,EAA+B,EAAtCU,CAAyCA,OAAOV,EAA+B,EAAtCU,CAAyC,GAAGzB,KAAK8L,aAAatG,GAAQxF,KAAK6P,mBAAoB,CAACnO,IAAI,gBAAgBC,MAAM,SAAuB8M,GAC/4B,IAAI,IAAIpL,EAAE,EAAEA,EAAErD,KAAKmM,OAAOzJ,OAAOW,IAAKrD,KAAKmM,OAAO9I,GAAGmM,WAAU,GAA2D,IAAnD,IAAItM,EAAUlD,KAAKmM,OAAOsC,GAAUa,eAAuBQ,EAAI,EAAEA,EAAI5M,EAAUR,OAAOoN,IAAO9P,KAAKmM,OAAOjJ,EAAU4M,IAAMN,WAAWxP,KAAKmM,OAAOjJ,EAAU4M,IAAMC,eAAiB,CAACrO,IAAI,iBAAiBC,MAAM,SAAwB8M,GAAUjI,QAAQC,IAAI,UAAUgI,GAA8E,IAApE,IAAIvL,EAAUlD,KAAKmM,OAAOsC,GAAUa,eAAmBnJ,EAAW,EAAU9C,EAAE,EAAEA,EAAEH,EAAUR,OAAOW,IAAKmD,QAAQC,IAAI,aAAavD,EAAUG,GAAG,WAAWrD,KAAKmM,OAAOjJ,EAAUG,IAAI2M,WAAchQ,KAAKmM,OAAOjJ,EAAUG,IAAI2M,WAAW7J,IAAeK,QAAQC,IAAI,eAAeN,KAAe,CAACzE,IAAI,mBAAmBC,MAAM,SAA0BiI,GAAyB,OAAOA,EAAElI,KAAK,IAAI,IAAI1B,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKiQ,cAAcC,IAAYlQ,KAAKmQ,eAAeD,IAAY,MAAM,IAAI,IAAIlQ,KAAKoQ,gBAAgB,MAAM,IAAI,IAAI,IAAI,IAAI/M,EAAE,EAAEA,EAAErD,KAAKmM,OAAOzJ,OAAOW,IAAKrD,KAAKmM,OAAO9I,GAAGmM,WAAU,MACtjD,CAAC9N,IAAI,SAASC,MAAM,WAAkB,IAAI0E,EAAOrG,KAAK,OAAmBW,EAAc8G,EAAEC,cAAc,MAAM,KAAkB/G,EAAc8G,EAAEC,cAAc,MAAM,CAACmB,MAAMA,EAAMwH,IAAI,SAAaC,GAAM,OAAOjK,EAAOmG,GAAG8D,GAAOC,WAAW,SAAoB3G,GAAG,OAAOvD,EAAOmK,iBAAiB5G,IAAK6G,WAAU,IAAoB9P,EAAc8G,EAAEC,cAAc,MAAM,CAACmB,MAAM,CAACU,QAAQ,SAAsB5I,EAAc8G,EAAEC,cAAc,MAAM,KAAkB/G,EAAc8G,EAAEC,cAAcuC,EAAe,CAACxF,KAAKzE,KAAKgD,MAAMyB,KAAK6F,YAAY,SAAqBV,GAAG,OAAOvD,EAAOwJ,kBAAmBzF,YAAY,SAAqBR,GAAG,OAAOvD,EAAOqK,kBAAmBvG,WAAW,SAAoBP,GAAG,OAAOvD,EAAOsK,iBAAkBtG,WAAW,SAAoBT,GAAG,OAAOvD,EAAO+J,mBAAiCzP,EAAc8G,EAAEC,cAAc6C,EAAkB,CAACD,YAAY,SAAqBV,GAAG,OAAOvD,EAAOuK,wBAAsCjQ,EAAc8G,EAAEC,cAAcC,EAAclG,OAAOoP,OAAO,GAAG7Q,KAAK8L,YAAY,CAAC1C,oBAAoB,SAA6B0H,EAAM1N,GAAK,OAAOiD,EAAO0K,yBAAyBD,EAAM1N,aAAwByH,EA1B7mC,CA0BmnCnK,EAAiB,WAAoCsQ,EAAWvP,OAAOf,EAAY,KAApB,CAAuBiK,GAWltCsG,QAAmC,cAA3B1D,OAAO2D,SAASC,UACb,UAA3B5D,OAAO2D,SAASC,UAChB5D,OAAO2D,SAASC,SAASC,MAAM,2DAsB/BtQ,EAAkB2G,EAAEsG,OAAoBpN,EAAc8G,EAAEC,cAAcsJ,EAAQ,MAAMK,SAASC,eAAe,SAFiD,kBAAkBC,WAAWA,UAAUC,cAAcC,MAAMC,MAAK,SAASC,GAAcA,EAAaC,gBAAgBC,OAAM,SAASC,GAAOtL,QAAQsL,MAAMA,EAAMC,cASzT,CAAC,CAAC,GAAG,EAAE"},"code":"(this.webpackJsonpprototype=this.webpackJsonpprototype||[]).push([[0],{41:function(e,t,i){e.exports=i(56)},46:function(e,t,i){},56:function(e,t,i){\"use strict\";i.r(t);var s=i(0),a=i.n(s),n=i(13),r=i.n(n),o=(i(46),i(28)),h=i(7),l=i(11),c=i(16),u=i(15),g=i(14),m=i(2),d=i(34),b=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,[{key:\"getTemperature\",value:function(e,t,i){return 70}},{key:\"getHumidity\",value:function(e,t,i){return 70}}]),e}(),v=i(17),p=i(35),f=function(){function e(t,i,s,a,n,r,o,l){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,g=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0;if(Object(h.a)(this,e),this.marked=!1,this.THREE=t,this.radio=i,this.id=s,this.size=n,this.world=a,this.x=r,this.y=o,this.z=l,this.rotx=c,this.roty=u,this.rotz=g,this.state={},this.createMesh(),this.neighbors=[],\"undefined\"===typeof s)throw new Error(\"Agent.id must be set\")}return Object(l.a)(e,[{key:\"setMarked\",value:function(e){this.marked=e;for(var t=this.group.children.length-1;t>=0;t--)this.group.remove(this.group.children[t]);if(this.group.add(this.mesh),this.marked){var i=new this.THREE.SphereGeometry(1.3*this.size,24,24,0,2*Math.PI,0,Math.PI/2),s=new this.THREE.MeshBasicMaterial({color:16711680}),a=new this.THREE.Mesh(i,s);a.position.copy(new this.THREE.Vector3(this.x,this.y,this.z-this.size)),a.rotation.x=this.rotx,a.rotation.y=this.roty,a.rotation.z=this.rotz,this.group.add(a)}}},{key:\"getMarked\",value:function(){return this.marked}},{key:\"getState\",value:function(){return this.state}},{key:\"getPosition\",value:function(){return new this.THREE.Vector3(this.x,this.y,this.z)}},{key:\"createMesh\",value:function(){this.geometry=new this.THREE.SphereGeometry(this.size,24,24,0,2*Math.PI,0,Math.PI/2),this.material=new this.THREE.MeshBasicMaterial({color:16777215}),this.mesh=new this.THREE.Mesh(this.geometry,this.material),this.mesh.position.copy(new this.THREE.Vector3(this.x,this.y,this.z)),this.mesh.rotation.x=this.rotx,this.mesh.rotation.y=this.roty,this.mesh.rotation.z=this.rotz,this.group=new this.THREE.Group,this.group.add(this.mesh)}},{key:\"getMesh\",value:function(){return this.group}},{key:\"loop\",value:function(e){}},{key:\"setNeighbors\",value:function(e){this.neighbors=Object(p.a)(e)}},{key:\"getNeighbors\",value:function(){return this.neighbors}},{key:\"addNeighbor\",value:function(e){this.neighbors.push(e)}},{key:\"removeNeighbor\",value:function(e){var t=this.neighbors.indexOf(e);-1!==t&&this.neighbors.splice(t,1)}},{key:\"receiveMessage\",value:function(e){}}]),e}(),y=i(9),k=i(19),w=i(67),S=(i(47),i(48),i(49),i(50),i(51),i(52),i(53),i(54),i(55),i(27),\"Idle\"),E=\"ImAlive\",C=\"ImDead\",A=\"Resurrect\",T=function(e){Object(u.a)(i,e);var t=Object(g.a)(i);function i(e,s,a,n,r,o,l,c){var u,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,b=arguments.length>11?arguments[11]:void 0,v=arguments.length>12?arguments[12]:void 0;return Object(h.a)(this,i),(u=t.call(this,e,s,a,n,r,o,l,c,g,m,d)).debugSim=!1,u.debugNetwork=!1,u.lastStateSend=0,u.lastCycle=0,u.neighborState=new Map,u.params=b,u.setAlive(v),u.state.lastCycle=0,u.state.state=S,u.state.batch=0,u.state.aliveCount=0,u}return Object(l.a)(i,[{key:\"setAlive\",value:function(e){this.state.alive=e,e?this.material.color.setHex(255):this.material.color.setHex(2236962)}},{key:\"isAlive\",value:function(){return this.state.alive}},{key:\"loop\",value:function(e){var t=this;if(e>this.lastStateSend+this.params.stateSendTime){this.lastStateSend=e;var i={command:this.state.alive?E:C};this.debugSim&&0===this.id&&console.log(\"Sending state: \"+this.state.alive+\" to neighbors: \"+this.neighbors.length);for(var s=0;s<this.neighbors.length;s++)this.radio.sendMessage(this.id,this.neighbors[s],i)}if(this.debugSim&&0===this.id&&console.log(\"Check cycle.  time: \"+e+\" next: \"+(this.lastCycle+this.params.cycleTime)+\" lastCycle: \"+this.lastCycle+\" cycleTime: \"+this.params.cycleTime),e>this.lastCycle+this.params.cycleTime){this.debugSim&&0===this.id&&console.log(\"Cycle done.  Updating state.  neighbors: \"+this.neighborState.size),this.lastCycle=e;var a=0;if(this.neighborState.forEach((function(e,i){t.debugSim&&0===t.id&&console.log(e,i),e&&a++})),this.debugSim&&0===this.id&&console.log(\"Agent: \"+this.id+\" aliveN: \"+a),!0!==this.state.alive||2!==a&&3!==a)if(!1===this.state.alive){if(3===a)this.setAlive(!0);else if(Math.random()<this.params.spontaneousGeneration&&(this.setAlive(!0),Math.random()<this.params.resurrectionChance))for(var n=0;n<this.neighbors.length;n++){var r={command:A};this.radio.sendMessage(this.id,this.neighbors[n],r)}}else this.setAlive(!1);else this.setAlive(!0)}}},{key:\"receiveMessage\",value:function(e){switch(this.debugNetwork&&0===this.id&&console.log(\"Agent: \"+this.id+\" recv: \"+JSON.stringify(e)),e.msg.command){case A:Math.random()<this.params.resurrectionChance&&this.setAlive(!0);break;case E:this.neighborState.set(e.from,!0);break;case C:this.neighborState.set(e.from,!1)}}},{key:\"render\",value:function(){return a.a.createElement(\"div\",null,a.a.createElement(\"h1\",null,\"Game of Life\"))}}]),i}(f);function N(e){var t=Object(s.useState)(e.startPattern),i=Object(v.a)(t,2),n=i[0],r=i[1],o=Object(s.useState)(e.size),h=Object(v.a)(o,2),l=h[0],c=h[1],u=Object(s.useState)(e.cycleTime),g=Object(v.a)(u,2),m=g[0],d=g[1],b=Object(s.useState)(e.spontaneousGeneration),p=Object(v.a)(b,2),f=p[0],S=p[1],E=Object(s.useState)(e.resurrectionChance),C=Object(v.a)(E,2),A=C[0],T=C[1];return a.a.createElement(\"div\",{style:{width:\"512px\",border:\"1px solid black\",padding:\"8px\"}},a.a.createElement(\"h1\",null,\"Game of Life - Agent Control\"),a.a.createElement(\"form\",{onSubmit:function(t){return t&&t.preventDefault(),e.paramsChangedAction({startPattern:n,size:l,cycleTime:m,spontaneousGeneration:f,resurrectionChance:A}),null}},a.a.createElement(w.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Start Pattern\",options:[\"toad\",\"beacon\",\"blinker\",\"random\",\"corners\",\"blank\",\"quadpole\",\"pulsar\",\"test\"],value:n,onChange:function(e){return r(e.target.value)}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Size\",required:!0,value:l,onChange:function(e){return c(parseInt(e.target.value))}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"CycleTime\",required:!0,value:m,onChange:function(e){return d(parseInt(e.target.value))}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Spontaneous Generation\",required:!0,value:f,onChange:function(e){return S(e.target.value)}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Resurrection Chance\",required:!0,value:A,onChange:function(e){return T(e.target.value)}}),a.a.createElement(y.a,{style:{width:\"100%\"},type:\"submit\",label:\"Update\"})))}i(32);var P=Object(s.memo)((function(e){return a.a.createElement(\"div\",{style:{border:\"1px solid black\",padding:\"8px\"}},a.a.createElement(\"h1\",null,\"Simulation Control\"),a.a.createElement(\"div\",{style:{width:\"100px\",margin:\"auto\"}},a.a.createElement(\"b\",null,\"time: \",e.time)),a.a.createElement(y.a,{label:\"Play\",onClick:e.playAction}),a.a.createElement(y.a,{label:\"Pause\",onClick:e.pauseAction}),a.a.createElement(y.a,{label:\"Step\",onClick:e.stepAction}),a.a.createElement(y.a,{label:\"Reset\",onClick:e.resetAction}))}));var O=Object(s.memo)((function(e){return a.a.createElement(\"div\",{style:{border:\"1px solid black\",padding:\"8px\"}},a.a.createElement(\"h1\",null,\"Camera Control\"),a.a.createElement(y.a,{label:\"Reset\",onClick:e.resetAction}))})),M={height:512,maxWidth:1024},x=0,j=new m.Clock,z=function(e){Object(u.a)(i,e);var t=Object(g.a)(i);function i(){var e;Object(h.a)(this,i);for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={},e.debugNetwork=!1,e.debugNeighbors=!1,e.showNeighborsFor=-1,e.messages=[],e.simPaused=!0,e.pauseTime=Number.MAX_SAFE_INTEGER,e.time=0,e.lastLoopTime=(new Date).getTime(),e.agentParams={startPattern:\"test\",size:10,cycleTime:400,stateSendTime:50,spontaneousGeneration:0,resurrectionChance:0},e.worldSetup=function(){e.world=new b},e.agentSetup=function(t){var i,s=0,a=!1,n=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];if(\"random\"===t.startPattern)a=!0;else switch(t.startPattern){case\"quadpole\":i=[[0,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0],[0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"blank\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"test\":i=n;break;case\"corners\":i=[[1,1,0,0,0,0,0,0,1,1],[1,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,1],[1,1,0,0,0,0,0,0,1,1]];break;case\"toad\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0],[0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"beacon\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"blinker\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"pulsar\":i=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];break;default:console.log(\"Unknown pattern\"),i=n}var r=t.size;r<i.length&&(r=i.length),e.agents=[];for(var o=0;o<r;o++)for(var h=0;h<r;h++){var l=!0,u=h,g=o;a?l=Math.random()<.4:(u=h,g=r-o-1,l=1===i[o][h]);var d=new T(m,Object(c.a)(e),s++,e.world,.1,u-r/2,g-r/2,0,Math.PI/2,0,0,t,l);e.agents[o*r+h]=d}},e.sceneSetup=function(){var t=e.el.clientWidth,i=e.el.clientHeight;e.scene=new m.Scene,e.camera=new m.PerspectiveCamera(75,t/i,.1,1e3),e.camera.position.z=10,e.controls=new d.a(e.camera,e.el),e.renderer=new m.WebGLRenderer,e.renderer.setSize(t,i),e.el.appendChild(e.renderer.domElement)},e.addCustomSceneObjects=function(){for(var t=0;t<e.agents.length;t++)e.scene.add(e.agents[t].getMesh());e.calcAgentNeighbors(8);var i=[];i[0]=new m.PointLight(16777215,1,0),i[1]=new m.PointLight(16777215,1,0),i[2]=new m.PointLight(16777215,1,0),i[0].position.set(0,200,0),i[1].position.set(100,200,100),i[2].position.set(-100,-200,-100)},e.startAnimationLoop=function(){e.requestID=window.requestAnimationFrame(e.startAnimationLoop);var t=(new Date).getTime();if(!e.simPaused){e.time+=t-e.lastLoopTime,e.setState({time:e.time});for(var i=[],s=0;s<e.messages.length;s++)e.messages[s].time<e.time&&(e.debugNetwork&&console.log(\"Routing message: \"+JSON.stringify(e.messages[s])),\"undefined\"===typeof e.messages[s].to?console.log(\"Invalid message: \"+JSON.stringify(e.messages[s])):e.agents[e.messages[s].to].receiveMessage(e.messages[s]),i.push(s));for(var a=0;a<i.length;a++)e.messages.splice(i[a]-a,1);for(var n=0;n<e.agents.length;n++)e.agents[n].loop(e.time);if(e.time>e.pauseTime)return e.simPaused=!0,e.renderer.render(e.scene,e.camera),void(e.pauseTime=Number.MAX_SAFE_INTEGER)}e.lastLoopTime=t,(x+=j.getDelta())<1/30||(e.renderer.render(e.scene,e.camera),x%=1/30)},e.handleWindowResize=function(){var t=e.el.clientWidth,i=e.el.clientHeight;e.renderer.setSize(t,i),e.camera.aspect=t/i,e.camera.updateProjectionMatrix()},e}return Object(l.a)(i,[{key:\"componentDidMount\",value:function(){this.worldSetup(),this.agentSetup(this.agentParams),this.sceneSetup(),this.addCustomSceneObjects(),this.startAnimationLoop(),window.addEventListener(\"resize\",this.handleWindowResize),this.setState({time:0}),this.renderer.render(this.scene,this.camera)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:\"calcAgentNeighbors\",value:function(e){this.debugNeighbors&&console.log(\"Calculating neighbors\");for(var t=0;t<this.agents.length;t++){this.debugNeighbors&&console.log(\"Agent: \"+t);for(var i=[],s=this.agents[t].getPosition(),a=0;a<this.agents.length;a++)if(a!==t){var n=this.agents[a].getPosition().distanceToSquared(s);i.push({dist:n,agentIdx:a})}i.sort((function(e,t){return e.dist-t.dist})),this.debugNeighbors&&console.log(JSON.stringify(i));for(var r=[],o=Math.min(e,i.length),h=0;h<o;h++)r[h]=i[h].agentIdx;this.debugNeighbors&&console.log(JSON.stringify(r)),this.agents[t].setNeighbors(r)}if(-1!==this.showNeighborsFor)for(var l=this.agents[this.showNeighborsFor].getNeighbors(),c=0;c<l.length;c++)this.agents[l[c]].setMarked(!0)}},{key:\"sleep\",value:function(e){var t=Date.now(),i=null;do{i=Date.now()}while(i-t<e)}},{key:\"sendMessage\",value:function(e,t,i){if(this.debugNetwork&&console.log(\"Send message. from: \"+e+\" to: \"+t+\" msg: \"+JSON.stringify(i)),\"undefined\"===typeof e)throw new Error(\"From is required\");if(\"undefined\"===typeof t)throw new Error(\"To is required\");this.messages.push({from:e,to:t,msg:i,time:this.time+0*Math.random()})}},{key:\"handleSimPause\",value:function(){this.simPaused=!0}},{key:\"handleSimPlay\",value:function(){this.simPaused=!1,this.lastLoopTime=(new Date).getTime()}},{key:\"handleSimStep\",value:function(){this.simPaused=!1,this.lastLoopTime=(new Date).getTime(),this.pauseTime=this.time+this.agentParams.cycleTime}},{key:\"handleSimReset\",value:function(){for(this.simPaused=!0,this.time=0,this.setState({time:this.time}),this.lastLoopTime=(new Date).getTime(),this.messages=[];this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);this.agentSetup(this.agentParams),this.addCustomSceneObjects()}},{key:\"handleCameraReset\",value:function(){this.controls.reset()}},{key:\"handleAgentParamsChanged\",value:function(e){console.log(\"Params changed: \"+JSON.stringify(e)),this.agentParams=Object(o.a)(Object(o.a)({},this.agentParams),e),this.handleSimReset()}},{key:\"markNeighbors\",value:function(e){for(var t=0;t<this.agents.length;t++)this.agents[t].setMarked(!1);for(var i=this.agents[e].getNeighbors(),s=0;s<i.length;s++)this.agents[i[s]].setMarked(!this.agents[i[s]].getMarked())}},{key:\"showAliveCount\",value:function(e){console.log(\"Agent: \"+e);for(var t=this.agents[e].getNeighbors(),i=0,s=0;s<t.length;s++)console.log(\"neighbor: \"+t[s]+\" alive: \"+this.agents[t[s]].isAlive()),this.agents[t[s]].isAlive()&&i++;console.log(\"aliveCount: \"+i)}},{key:\"handleKeyPressed\",value:function(e){switch(e.key){case\"0\":this.markNeighbors(90),this.showAliveCount(90);break;case\"1\":this.markNeighbors(91),this.showAliveCount(91);break;case\"2\":this.markNeighbors(92),this.showAliveCount(92);break;case\"3\":this.markNeighbors(93),this.showAliveCount(93);break;case\"4\":this.markNeighbors(94),this.showAliveCount(94);break;case\"5\":this.markNeighbors(95),this.showAliveCount(95);break;case\"6\":this.markNeighbors(96),this.showAliveCount(96);break;case\"7\":this.markNeighbors(97),this.showAliveCount(97);break;case\"8\":this.markNeighbors(98),this.showAliveCount(98);break;case\"9\":this.markNeighbors(99),this.showAliveCount(99);break;case\"s\":this.handleSimStep();break;case\"c\":for(var t=0;t<this.agents.length;t++)this.agents[t].setMarked(!1)}}},{key:\"render\",value:function(){var e=this;return a.a.createElement(\"div\",null,a.a.createElement(\"div\",{style:M,ref:function(t){return e.el=t},onKeyPress:function(t){return e.handleKeyPressed(t)},autoFocus:!0}),a.a.createElement(\"div\",{style:{display:\"flex\"}},a.a.createElement(\"div\",null,a.a.createElement(P,{time:this.state.time,resetAction:function(t){return e.handleSimReset()},pauseAction:function(t){return e.handleSimPause()},playAction:function(t){return e.handleSimPlay()},stepAction:function(t){return e.handleSimStep()}}),a.a.createElement(O,{resetAction:function(t){return e.handleCameraReset()}})),a.a.createElement(N,Object.assign({},this.agentParams,{paramsChangedAction:function(t,i){return e.handleAgentParamsChanged(t,i)}}))))}}]),i}(s.Component),R=Object(s.memo)(z);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(R,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);","extractedComments":[]}