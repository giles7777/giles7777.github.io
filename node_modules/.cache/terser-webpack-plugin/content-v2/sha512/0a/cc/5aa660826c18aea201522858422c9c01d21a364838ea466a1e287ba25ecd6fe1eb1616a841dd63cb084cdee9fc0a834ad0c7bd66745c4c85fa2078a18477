{"map":{"version":3,"sources":["static/js/main.52426508.chunk.js"],"names":["this","push","41","module","exports","__webpack_require__","46","56","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","three_module","OrbitControls","World_World","World","Object","key","value","x","y","z","slicedToArray","toConsumableArray","Agent_Agent","Agent","context","radio","id","world","size","rotx","arguments","length","undefined","roty","rotz","marked","THREE","state","createMesh","neighbors","val","i","group","children","remove","add","mesh","geometry","SphereGeometry","Math","PI","material","MeshBasicMaterial","color","marker","Mesh","position","copy","Vector3","rotation","Group","time","index","indexOf","splice","msg","next","textfield_next","next_select","States","Messages","ConwayAgent_ConwayAgent","_Agent","ConwayAgent","_super","_this","params","alive","call","debugSim","debugNetwork","lastStateSend","lastCycle","neighborState","Map","setAlive","batch","aliveCount","setHex","_this2","stateSendTime","command","console","log","sendMessage","cycleTime","forEach","k","v","random","spontaneousGeneration","resurrectionChance","_i","_msg","wrapper","JSON","stringify","set","from","a","createElement","ConwayControl","props","_useState","startPattern","_useState2","setStartPattern","_useState3","_useState4","setSize","_useState5","_useState6","setCycleTime","_useState7","_useState8","setSpontaneousGeneration","_useState9","_useState10","setResurrectionChance","style","width","border","padding","onSubmit","evt","preventDefault","paramsChangedAction","height","margin","display","marginTop","label","options","onChange","e","target","required","parseInt","type","src_SimControl","onClick","playAction","pauseAction","stepAction","resetAction","src_CameraControl","maxWidth","delta","clock","App_App","_Component","App","_len","args","Array","_key","apply","concat","debugNeighbors","showNeighborsFor","messages","simPaused","pauseTime","Number","MAX_SAFE_INTEGER","lastLoopTime","Date","getTime","agentParams","worldSetup","agentSetup","pattern","agents","px","py","agent","sceneSetup","el","clientWidth","clientHeight","scene","camera","controls","renderer","appendChild","domElement","addCustomSceneObjects","getMesh","calcAgentNeighbors","lights","startAnimationLoop","requestID","window","requestAnimationFrame","now","setState","to","receiveMessage","_i2","loop","render","getDelta","handleWindowResize","aspect","updateProjectionMatrix","addEventListener","removeEventListener","cancelAnimationFrame","dispose","max","agentIdx","distances","pos","getPosition","dist","distanceToSquared","sort","b","len","min","_i3","setNeighbors","_neighbors","getNeighbors","_i4","setMarked","milliseconds","date","currentDate","reset","handleSimReset","_i5","getMarked","isAlive","markNeighbors","row","showAliveCount","handleSimStep","ref","_ref","onKeyPress","handleKeyPressed","autoFocus","handleSimPause","handleSimPlay","handleCameraReset","assign","param","handleAgentParamsChanged","src_App","Boolean","location","hostname","match","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAwlB,IAAIzJ,EAAKgD,EAAOhD,KAAQA,EAAKyJ,EAAQtJ,SAAQH,EAAKyJ,EAAQtJ,QAAQ4C,EAAM2G,OAAO,GAAG,IAAI,IAAIpK,EAAE,EAAEA,EAAEU,EAAKV,IAAK,IAAI,IAAID,EAAE,EAAEA,EAAEW,EAAKX,IAAI,CAAC,IAAI4D,GAAM,EAAS0G,EAAGtK,EAAMuK,EAAGtK,EAAKiF,EAAQtB,EAAM5B,KAAKkD,SAAj+F,IAAu/FoF,EAAGtK,EAAEuK,EAAG5J,EAAKV,EAAE,EAAE2D,EAAsB,IAAhBwG,EAAQnK,GAAGD,IAAQ,IAAIwK,EAAM,IAAIlH,EAAwB7D,EAAaI,OAAOP,EAAuC,EAA9CO,CAAiD6D,GAAOjD,IAAKiD,EAAMhD,MAAM,GAAI4J,EAAG3J,EAAK,EAAE4J,EAAG5J,EAAK,EAAE,EAAEqB,KAAKC,GAAG,EAAE,EAAE,EAAE0B,EAAOC,GACxjIF,EAAM2G,OAAOpK,EAAEU,EAAKX,GAAGwK,IAAU9G,EAAM+G,WAAW,WAClD,IAAIxD,EAAMvD,EAAMgH,GAAGC,YAAgBnD,EAAO9D,EAAMgH,GAAGE,aAAalH,EAAMmH,MAAM,IAAIpL,EAAoB,MAAIiE,EAAMoH,OAAO,IAAIrL,EAAgC,kBAAE,GAC3JwH,EAAMO,EACN,GACA,KACE9D,EAAMoH,OAAOvI,SAASrC,EAAE,GAG1BwD,EAAMqH,SAAS,IAAIrL,EAAqC,EAAEgE,EAAMoH,OAAOpH,EAAMgH,IAAIhH,EAAMsH,SAAS,IAAIvL,EAA4B,cAAIiE,EAAMsH,SAAS1E,QAAQW,EAAMO,GAAQ9D,EAAMgH,GAAGO,YAAYvH,EAAMsH,SAASE,aAC3MxH,EAAMyH,sBAAsB,WAAW,IAAI,IAAInM,EAAE,EAAEA,EAAE0E,EAAM2G,OAAOvJ,OAAO9B,IAAK0E,EAAMmH,MAAMjJ,IAAI8B,EAAM2G,OAAOrL,GAAGoM,WAAY1H,EAAM2H,mBAAmB,GAAG,IAAIC,EAAO,GAAGA,EAAO,GAAG,IAAI7L,EAAyB,WAAE,SAAS,EAAE,GAAG6L,EAAO,GAAG,IAAI7L,EAAyB,WAAE,SAAS,EAAE,GAAG6L,EAAO,GAAG,IAAI7L,EAAyB,WAAE,SAAS,EAAE,GAAG6L,EAAO,GAAG/I,SAASmD,IAAI,EAAE,IAAI,GAAG4F,EAAO,GAAG/I,SAASmD,IAAI,IAAI,IAAI,KAAK4F,EAAO,GAAG/I,SAASmD,KAAK,KAAK,KAAK,MAG/ahC,EAAM6H,mBAAmB,WAAW7H,EAAM8H,UAAUC,OAAOC,sBAAsBhI,EAAM6H,oBAAoB,IAAII,GAAI,IAAI5B,MAAOC,UAAU,IAAItG,EAAMgG,UAAU,CAC9JhG,EAAMd,MAAM+I,EAAIjI,EAAMoG,aAAapG,EAAMkI,SAAS,CAAChJ,KAAKc,EAAMd,OAAqB,IAAd,IAAIjB,EAAO,GAAWH,EAAE,EAAEA,EAAEkC,EAAM+F,SAAS3I,OAAOU,IAAQkC,EAAM+F,SAASjI,GAAGoB,KAAKc,EAAMd,OAASc,EAAMK,cAAaY,QAAQC,IAAI,oBAAoBY,KAAKC,UAAU/B,EAAM+F,SAASjI,KAAsC,qBAAvBkC,EAAM+F,SAASjI,GAAGqK,GAAkBlH,QAAQC,IAAI,oBAAoBY,KAAKC,UAAU/B,EAAM+F,SAASjI,KAAWkC,EAAM2G,OAAO3G,EAAM+F,SAASjI,GAAGqK,IAAIC,eAAepI,EAAM+F,SAASjI,IAAKG,EAAOtD,KAAKmD,IAAK,IAAI,IAAI6D,EAAG,EAAEA,EAAG1D,EAAOb,OAAOuE,IAAM3B,EAAM+F,SAAS1G,OAAOpB,EAAO0D,GAAIA,EAAG,GAEjhB,IAAI,IAAI0G,EAAI,EAAEA,EAAIrI,EAAM2G,OAAOvJ,OAAOiL,IAAOrI,EAAM2G,OAAO0B,GAAKC,KAAKtI,EAAMd,MAC1E,GAAGc,EAAMd,KAAKc,EAAMiG,UAAwH,OAA7GjG,EAAMgG,WAAU,EAAKhG,EAAMsH,SAASiB,OAAOvI,EAAMmH,MAAMnH,EAAMoH,aAAQpH,EAAMiG,UAAUC,OAAOC,kBAA0BnG,EAAMoG,aAAa6B,GAAI/C,GAAOC,EAAMqD,YAlBrF,EAAE,KAkByHxI,EAAMsH,SAASiB,OAAOvI,EAAMmH,MAAMnH,EAAMoH,QAAQlC,GAlB3K,EAAE,KAkBgMlF,EAAMyI,mBAAmB,WAAW,IAAIlF,EAAMvD,EAAMgH,GAAGC,YAAgBnD,EAAO9D,EAAMgH,GAAGE,aAAalH,EAAMsH,SAAS1E,QAAQW,EAAMO,GAAQ9D,EAAMoH,OAAOsB,OAAOnF,EAAMO,EAEzc9D,EAAMoH,OAAOuB,0BAAkC3I,EAMwpF,OANjpF7D,OAAOR,EAA6B,EAApCQ,CAAuCmJ,EAAI,CAAC,CAAClJ,IAAI,oBAAoBC,MAAM,WAA6B3B,KAAK8L,aAAa9L,KAAK+L,WAAW/L,KAAK6L,aAAa7L,KAAKqM,aAAarM,KAAK+M,wBAAwB/M,KAAKmN,qBAAqBE,OAAOa,iBAAiB,SAASlO,KAAK+N,oBAAoB/N,KAAKwN,SAAS,CAAChJ,KAAK,IACzWxE,KAAK4M,SAASiB,OAAO7N,KAAKyM,MAAMzM,KAAK0M,UAAW,CAAChL,IAAI,uBAAuBC,MAAM,WAAgC0L,OAAOc,oBAAoB,SAASnO,KAAK+N,oBAAoBV,OAAOe,qBAAqBpO,KAAKoN,WAAWpN,KAAK2M,SAAS0B,YACvO,CAAC3M,IAAI,qBACPC,MAAM,SAA4B2M,GAAQtO,KAAKmL,gBAAe5E,QAAQC,IAAI,yBAAyB,IAAI,IAAI+H,EAAS,EAAEA,EAASvO,KAAKiM,OAAOvJ,OAAO6L,IAAW,CAAIvO,KAAKmL,gBAAe5E,QAAQC,IAAI,UAAU+H,GAAuF,IAA7E,IAAIC,EAAU,GAAuCC,EAA1BzO,KAAKiM,OAAOsC,GAAwBG,cAAsBtL,EAAE,EAAEA,EAAEpD,KAAKiM,OAAOvJ,OAAOU,IAAK,GAAGA,IAAImL,EAAS,CAAC,IAAII,EAAK3O,KAAKiM,OAAO7I,GAAGsL,cAAcE,kBAAkBH,GAAKD,EAAUvO,KAAK,CAAC0O,KAAKA,EAAKJ,SAASnL,IAAMoL,EAAUK,MAAK,SAASrH,EAAEsH,GAAG,OAAOtH,EAAEmH,KAAKG,EAAEH,QAAW3O,KAAKmL,gBAAe5E,QAAQC,IAAIY,KAAKC,UAAUmH,IAC9e,IAAxD,IAAItL,EAAU,GAAO6L,EAAInL,KAAKoL,IAAIV,EAAIE,EAAU9L,QAAgBuM,EAAI,EAAEA,EAAIF,EAAIE,IAAO/L,EAAU+L,GAAKT,EAAUS,GAAKV,SAAavO,KAAKmL,gBAAe5E,QAAQC,IAAIY,KAAKC,UAAUnE,IAAYlD,KAAKiM,OAAOsC,GAAUW,aAAahM,GAAY,IAA4B,IAAzBlD,KAAKoL,iBAAwF,IAAjE,IAAI+D,EAAWnP,KAAKiM,OAAOjM,KAAKoL,kBAAkBgE,eAAuBC,EAAI,EAAEA,EAAIF,EAAWzM,OAAO2M,IAAOrP,KAAKiM,OAAOkD,EAAWE,IAAMC,WAAU,KAAW,CAAC5N,IAAI,QAAQC,MAAM,SAAe4N,GAAc,IAAIC,EAAK7D,KAAK4B,MAAUkC,EAAY,KAAK,GAAGA,EAAY9D,KAAK4B,YAAakC,EAAYD,EAAKD,KAAiB,CAAC7N,IAAI,cAAcC,MAAM,SAAqB4F,EAAKkG,EAAG7I,GAA6G,GAArG5E,KAAK2F,cAAcY,QAAQC,IAAI,uBAAuBe,EAAK,QAAQkG,EAAG,SAASrG,KAAKC,UAAUzC,IAAwB,qBAAP2C,EAAoB,KAAK,mBAAoB,GAAe,qBAALkG,EAAkB,KAAK,iBAAkBzN,KAAKqL,SAASpL,KAAK,CAACsH,KAAKA,EAAKkG,GAAGA,EAAG7I,IAAIA,EAAIJ,KAAKxE,KAAKwE,KAxBpwB,EAwBywBZ,KAAKkD,aAAmC,CAACpF,IAAI,iBAAiBC,MAAM,WAA0B3B,KAAKsL,WAAU,IAAQ,CAAC5J,IAAI,gBAAgBC,MAAM,WAAyB3B,KAAKsL,WAAU,EAAMtL,KAAK0L,cAAa,IAAIC,MAAOC,YACpmC,CAAClK,IAAI,gBAAgBC,MAAM,WAAyB3B,KAAKsL,WAAU,EAAMtL,KAAK0L,cAAa,IAAIC,MAAOC,UAAU5L,KAAKuL,UAAUvL,KAAKwE,KAAKxE,KAAK6L,YAAYnF,YAAa,CAAChF,IAAI,iBAAiBC,MAAM,WAAkJ,IAAxH3B,KAAKsL,WAAU,EAAKtL,KAAKwE,KAAK,EAAExE,KAAKwN,SAAS,CAAChJ,KAAKxE,KAAKwE,OAAOxE,KAAK0L,cAAa,IAAIC,MAAOC,UAAU5L,KAAKqL,SAAS,GAASrL,KAAKyM,MAAMnJ,SAASZ,OAAO,GAAG1C,KAAKyM,MAAMlJ,OAAOvD,KAAKyM,MAAMnJ,SAAS,IAAKtD,KAAK+L,WAAW/L,KAAK6L,aAAa7L,KAAK+M,0BAA2B,CAACrL,IAAI,oBAAoBC,MAAM,WAA6B3B,KAAK2M,SAAS+C,UAAW,CAAChO,IAAI,2BAA2BC,MAAM,SAAkC4D,GAAQgB,QAAQC,IAAI,mBAAmBY,KAAKC,UAAU9B,IAASvF,KAAK6L,YAAYpK,OAAOV,EAA+B,EAAtCU,CAAyCA,OAAOV,EAA+B,EAAtCU,CAAyC,GAAGzB,KAAK6L,aAAatG,GAAQvF,KAAK2P,mBAAoB,CAACjO,IAAI,gBAAgBC,MAAM,SAAuB4M,GAC/4B,IAAI,IAAInL,EAAE,EAAEA,EAAEpD,KAAKiM,OAAOvJ,OAAOU,IAAKpD,KAAKiM,OAAO7I,GAAGkM,WAAU,GAA2D,IAAnD,IAAIpM,EAAUlD,KAAKiM,OAAOsC,GAAUa,eAAuBQ,EAAI,EAAEA,EAAI1M,EAAUR,OAAOkN,IAAO5P,KAAKiM,OAAO/I,EAAU0M,IAAMN,WAAWtP,KAAKiM,OAAO/I,EAAU0M,IAAMC,eAAiB,CAACnO,IAAI,iBAAiBC,MAAM,SAAwB4M,GAAUhI,QAAQC,IAAI,UAAU+H,GAA8E,IAApE,IAAIrL,EAAUlD,KAAKiM,OAAOsC,GAAUa,eAAmBlJ,EAAW,EAAU9C,EAAE,EAAEA,EAAEF,EAAUR,OAAOU,IAAKmD,QAAQC,IAAI,aAAatD,EAAUE,GAAG,WAAWpD,KAAKiM,OAAO/I,EAAUE,IAAI0M,WAAc9P,KAAKiM,OAAO/I,EAAUE,IAAI0M,WAAW5J,IAAeK,QAAQC,IAAI,eAAeN,KAAe,CAACxE,IAAI,mBAAmBC,MAAM,SAA0BgI,GAAyB,OAAOA,EAAEjI,KAAK,IAAI,IAAI1B,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAK+P,cAAcC,IAAYhQ,KAAKiQ,eAAeD,IAAY,MAAM,IAAI,IAAIhQ,KAAKkQ,gBAAgB,MAAM,IAAI,IAAI,IAAI,IAAI9M,EAAE,EAAEA,EAAEpD,KAAKiM,OAAOvJ,OAAOU,IAAKpD,KAAKiM,OAAO7I,GAAGkM,WAAU,MAAkB,CAAC5N,IAAI,SAASC,MAAM,WAAkB,IAAIyE,EAAOpG,KAAK,OAAmBW,EAAc6G,EAAEC,cAAc,MAAM,KAAkB9G,EAAc6G,EAAEC,cAAc,MAAM,CAACmB,MAAMA,EAAMuH,IAAI,SAAaC,GAAM,OAAOhK,EAAOkG,GAAG8D,GAAOC,WAAW,SAAoB1G,GAAG,OAAOvD,EAAOkK,iBAAiB3G,IAAK4G,WAAU,IAAoB5P,EAAc6G,EAAEC,cAAc,MAAM,CAACmB,MAAM,CAACU,QAAQ,SAAsB3I,EAAc6G,EAAEC,cAAc,MAAM,KAAkB9G,EAAc6G,EAAEC,cAAcuC,EAAe,CAACxF,KAAKxE,KAAKgD,MAAMwB,KAAK6F,YAAY,SAAqBV,GAAG,OAAOvD,EAAOuJ,kBAAmBxF,YAAY,SAAqBR,GAAG,OAAOvD,EAAOoK,kBAAmBtG,WAAW,SAAoBP,GAAG,OAAOvD,EAAOqK,iBAAkBrG,WAAW,SAAoBT,GAAG,OAAOvD,EAAO8J,mBAAiCvP,EAAc6G,EAAEC,cAAc6C,EAAkB,CAACD,YAAY,SAAqBV,GAAG,OAAOvD,EAAOsK,wBAAsC/P,EAAc6G,EAAEC,cAAcC,EAAcjG,OAAOkP,OAAO,GAAG3Q,KAAK6L,YAAY,CAAC1C,oBAAoB,SAA6ByH,EAAMzN,GAAK,OAAOiD,EAAOyK,yBAAyBD,EAAMzN,aAAwByH,EAzBrrF,CAyB2rFlK,EAAiB,WAAoCoQ,EAAWrP,OAAOf,EAAY,KAApB,CAAuBgK,GAW1xFqG,QAAmC,cAA3B1D,OAAO2D,SAASC,UACb,UAA3B5D,OAAO2D,SAASC,UAChB5D,OAAO2D,SAASC,SAASC,MAAM,2DAsB/BpQ,EAAkB0G,EAAEqG,OAAoBlN,EAAc6G,EAAEC,cAAcqJ,EAAQ,MAAMK,SAASC,eAAe,SAFiD,kBAAkBC,WAAWA,UAAUC,cAAcC,MAAMC,MAAK,SAASC,GAAcA,EAAaC,gBAAgBC,OAAM,SAASC,GAAOrL,QAAQqL,MAAMA,EAAMC,cASzT,CAAC,CAAC,GAAG,EAAE"},"code":"(this.webpackJsonpprototype=this.webpackJsonpprototype||[]).push([[0],{41:function(e,t,i){e.exports=i(56)},46:function(e,t,i){},56:function(e,t,i){\"use strict\";i.r(t);var s=i(0),a=i.n(s),n=i(13),r=i.n(n),o=(i(46),i(28)),h=i(7),l=i(8),c=i(16),u=i(15),g=i(14),m=i(2),d=i(34),b=function(){function e(){Object(h.a)(this,e)}return Object(l.a)(e,[{key:\"getTemperature\",value:function(e,t,i){return 70}},{key:\"getHumidity\",value:function(e,t,i){return 70}}]),e}(),v=i(17),p=i(35),f=function(){function e(t,i,s,a,n,r,o,l){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,g=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0;if(Object(h.a)(this,e),this.marked=!1,this.THREE=t,this.radio=i,this.id=s,this.size=n,this.world=a,this.x=r,this.y=o,this.z=l,this.rotx=c,this.roty=u,this.rotz=g,this.state={},this.createMesh(),this.neighbors=[],\"undefined\"===typeof s)throw\"Agent.id must be set\"}return Object(l.a)(e,[{key:\"setMarked\",value:function(e){this.marked=e;for(var t=this.group.children.length-1;t>=0;t--)this.group.remove(this.group.children[t]);if(this.group.add(this.mesh),this.marked){var i=new this.THREE.SphereGeometry(1.3*this.size,24,24,0,2*Math.PI,0,Math.PI/2),s=new this.THREE.MeshBasicMaterial({color:16711680}),a=new this.THREE.Mesh(i,s);a.position.copy(new this.THREE.Vector3(this.x,this.y,this.z-this.size)),a.rotation.x=this.rotx,a.rotation.y=this.roty,a.rotation.z=this.rotz,this.group.add(a)}}},{key:\"getMarked\",value:function(){return this.marked}},{key:\"getState\",value:function(){return this.state}},{key:\"getPosition\",value:function(){return new this.THREE.Vector3(this.x,this.y,this.z)}},{key:\"createMesh\",value:function(){this.geometry=new this.THREE.SphereGeometry(this.size,24,24,0,2*Math.PI,0,Math.PI/2),this.material=new this.THREE.MeshBasicMaterial({color:16777215}),this.mesh=new this.THREE.Mesh(this.geometry,this.material),this.mesh.position.copy(new this.THREE.Vector3(this.x,this.y,this.z)),this.mesh.rotation.x=this.rotx,this.mesh.rotation.y=this.roty,this.mesh.rotation.z=this.rotz,this.group=new this.THREE.Group,this.group.add(this.mesh)}},{key:\"getMesh\",value:function(){return this.group}},{key:\"loop\",value:function(e){}},{key:\"setNeighbors\",value:function(e){this.neighbors=Object(p.a)(e)}},{key:\"getNeighbors\",value:function(){return this.neighbors}},{key:\"addNeighbor\",value:function(e){this.neighbors.push(e)}},{key:\"removeNeighbor\",value:function(e){var t=this.neighbors.indexOf(e);-1!==t&&this.neighbors.splice(t,1)}},{key:\"receiveMessage\",value:function(e){}}]),e}(),y=i(10),k=i(19),w=i(67),S=(i(47),i(48),i(49),i(50),i(51),i(52),i(53),i(54),i(55),i(27),\"Idle\"),E=\"ImAlive\",C=\"ImDead\",A=\"Resurrect\",T=function(e){Object(u.a)(i,e);var t=Object(g.a)(i);function i(e,s,a,n,r,o,l,c){var u,g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,b=arguments.length>11?arguments[11]:void 0,v=arguments.length>12?arguments[12]:void 0;return Object(h.a)(this,i),(u=t.call(this,e,s,a,n,r,o,l,c,g,m,d)).debugSim=!1,u.debugNetwork=!1,u.lastStateSend=0,u.lastCycle=0,u.neighborState=new Map,u.params=b,u.setAlive(v),u.state.lastCycle=0,u.state.state=S,u.state.batch=0,u.state.aliveCount=0,u}return Object(l.a)(i,[{key:\"setAlive\",value:function(e){this.state.alive=e,e?this.material.color.setHex(255):this.material.color.setHex(2236962)}},{key:\"isAlive\",value:function(){return this.state.alive}},{key:\"loop\",value:function(e){var t=this;if(e>this.lastStateSend+this.params.stateSendTime){this.lastStateSend=e;var i={command:this.state.alive?E:C};this.debugSim&&0===this.id&&console.log(\"Sending state: \"+this.state.alive+\" to neighbors: \"+this.neighbors.length);for(var s=0;s<this.neighbors.length;s++)this.radio.sendMessage(this.id,this.neighbors[s],i)}if(this.debugSim&&0===this.id&&console.log(\"Check cycle.  time: \"+e+\" next: \"+(this.lastCycle+this.params.cycleTime)+\" lastCycle: \"+this.lastCycle+\" cycleTime: \"+this.params.cycleTime),e>this.lastCycle+this.params.cycleTime){this.debugSim&&0===this.id&&console.log(\"Cycle done.  Updating state.  neighbors: \"+this.neighborState.size),this.lastCycle=e;var a=0;if(this.neighborState.forEach((function(e,i){t.debugSim&&0===t.id&&console.log(e,i),e&&a++})),this.debugSim&&0===this.id&&console.log(\"Agent: \"+this.id+\" aliveN: \"+a),!0!==this.state.alive||2!==a&&3!==a)if(!1===this.state.alive){if(3===a)this.setAlive(!0);else if(Math.random()<this.params.spontaneousGeneration&&(this.setAlive(!0),Math.random()<this.params.resurrectionChance))for(var n=0;n<this.neighbors.length;n++){var r={command:A};this.radio.sendMessage(this.id,this.neighbors[n],r)}}else this.setAlive(!1);else this.setAlive(!0)}}},{key:\"receiveMessage\",value:function(e){switch(this.debugNetwork&&0===this.id&&console.log(\"Agent: \"+this.id+\" recv: \"+JSON.stringify(e)),e.msg.command){case A:Math.random()<this.params.resurrectionChance&&this.setAlive(!0);break;case E:this.neighborState.set(e.from,!0);break;case C:this.neighborState.set(e.from,!1)}}},{key:\"render\",value:function(){return a.a.createElement(\"div\",null,a.a.createElement(\"h1\",null,\"Game of Life\"))}}]),i}(f);function N(e){var t=Object(s.useState)(e.startPattern),i=Object(v.a)(t,2),n=i[0],r=i[1],o=Object(s.useState)(e.size),h=Object(v.a)(o,2),l=h[0],c=h[1],u=Object(s.useState)(e.cycleTime),g=Object(v.a)(u,2),m=g[0],d=g[1],b=Object(s.useState)(e.spontaneousGeneration),p=Object(v.a)(b,2),f=p[0],S=p[1],E=Object(s.useState)(e.resurrectionChance),C=Object(v.a)(E,2),A=C[0],T=C[1];return a.a.createElement(\"div\",{style:{width:\"512px\",border:\"1px solid black\",padding:\"8px\"}},a.a.createElement(\"h1\",null,\"Game of Life - Agent Control\"),a.a.createElement(\"form\",{onSubmit:function(t){return t&&t.preventDefault(),e.paramsChangedAction({startPattern:n,size:l,cycleTime:m,spontaneousGeneration:f,resurrectionChance:A}),null}},a.a.createElement(w.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Start Pattern\",options:[\"toad\",\"beacon\",\"blinker\",\"random\",\"corners\",\"blank\",\"quadpole\",\"pulsar\",\"test\"],value:n,onChange:function(e){return r(e.target.value)}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Size\",required:!0,value:l,onChange:function(e){return c(parseInt(e.target.value))}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"CycleTime\",required:!0,value:m,onChange:function(e){return d(parseInt(e.target.value))}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Spontaneous Generation\",required:!0,value:f,onChange:function(e){return S(e.target.value)}}),a.a.createElement(k.a,{style:{width:\"100%\",height:\"56px\",margin:\"auto\",display:\"block\",marginTop:\"24px\"},label:\"Resurrection Chance\",required:!0,value:A,onChange:function(e){return T(e.target.value)}}),a.a.createElement(y.a,{style:{width:\"100%\"},type:\"submit\",label:\"Update\"})))}i(32);var P=Object(s.memo)((function(e){return a.a.createElement(\"div\",{style:{border:\"1px solid black\",padding:\"8px\"}},a.a.createElement(\"h1\",null,\"Simulation Control\"),a.a.createElement(\"div\",{style:{width:\"100px\",margin:\"auto\"}},a.a.createElement(\"b\",null,\"time: \",e.time)),a.a.createElement(y.a,{label:\"Play\",onClick:e.playAction}),a.a.createElement(y.a,{label:\"Pause\",onClick:e.pauseAction}),a.a.createElement(y.a,{label:\"Step\",onClick:e.stepAction}),a.a.createElement(y.a,{label:\"Reset\",onClick:e.resetAction}))}));var O=Object(s.memo)((function(e){return a.a.createElement(\"div\",{style:{border:\"1px solid black\",padding:\"8px\"}},a.a.createElement(\"h1\",null,\"Camera Control\"),a.a.createElement(y.a,{label:\"Reset\",onClick:e.resetAction}))})),M={height:512,maxWidth:1024},x=0,j=new m.Clock,z=function(e){Object(u.a)(i,e);var t=Object(g.a)(i);function i(){var e;Object(h.a)(this,i);for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={},e.debugNetwork=!1,e.debugNeighbors=!1,e.showNeighborsFor=-1,e.messages=[],e.simPaused=!0,e.pauseTime=Number.MAX_SAFE_INTEGER,e.time=0,e.lastLoopTime=(new Date).getTime(),e.agentParams={startPattern:\"test\",size:10,cycleTime:400,stateSendTime:50,spontaneousGeneration:0,resurrectionChance:0},e.worldSetup=function(){e.world=new b},e.agentSetup=function(t){var i,s=0,a=!1;if(\"random\"===t.startPattern)a=!0;else switch(t.startPattern){case\"quadpole\":i=[[0,0,0,0,0,0,0,0,0,0],[0,1,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,0,0],[0,0,0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"blank\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"test\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"corners\":i=[[1,1,0,0,0,0,0,0,1,1],[1,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,1],[1,1,0,0,0,0,0,0,1,1]];break;case\"toad\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0],[0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"beacon\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"blinker\":i=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];break;case\"pulsar\":i=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}var n=t.size;n<i.length&&(n=i.length),e.agents=[];for(var r=0;r<n;r++)for(var o=0;o<n;o++){var h=!0,l=o,u=r;a?h=Math.random()<.4:(l=o,u=n-r-1,h=1===i[r][o]);var g=new T(m,Object(c.a)(e),s++,e.world,.1,l-n/2,u-n/2,0,Math.PI/2,0,0,t,h);e.agents[r*n+o]=g}},e.sceneSetup=function(){var t=e.el.clientWidth,i=e.el.clientHeight;e.scene=new m.Scene,e.camera=new m.PerspectiveCamera(75,t/i,.1,1e3),e.camera.position.z=10,e.controls=new d.a(e.camera,e.el),e.renderer=new m.WebGLRenderer,e.renderer.setSize(t,i),e.el.appendChild(e.renderer.domElement)},e.addCustomSceneObjects=function(){for(var t=0;t<e.agents.length;t++)e.scene.add(e.agents[t].getMesh());e.calcAgentNeighbors(8);var i=[];i[0]=new m.PointLight(16777215,1,0),i[1]=new m.PointLight(16777215,1,0),i[2]=new m.PointLight(16777215,1,0),i[0].position.set(0,200,0),i[1].position.set(100,200,100),i[2].position.set(-100,-200,-100)},e.startAnimationLoop=function(){e.requestID=window.requestAnimationFrame(e.startAnimationLoop);var t=(new Date).getTime();if(!e.simPaused){e.time+=t-e.lastLoopTime,e.setState({time:e.time});for(var i=[],s=0;s<e.messages.length;s++)e.messages[s].time<e.time&&(e.debugNetwork&&console.log(\"Routing message: \"+JSON.stringify(e.messages[s])),\"undefined\"===typeof e.messages[s].to?console.log(\"Invalid message: \"+JSON.stringify(e.messages[s])):e.agents[e.messages[s].to].receiveMessage(e.messages[s]),i.push(s));for(var a=0;a<i.length;a++)e.messages.splice(i[a]-a,1);for(var n=0;n<e.agents.length;n++)e.agents[n].loop(e.time);if(e.time>e.pauseTime)return e.simPaused=!0,e.renderer.render(e.scene,e.camera),void(e.pauseTime=Number.MAX_SAFE_INTEGER)}e.lastLoopTime=t,(x+=j.getDelta())<1/30||(e.renderer.render(e.scene,e.camera),x%=1/30)},e.handleWindowResize=function(){var t=e.el.clientWidth,i=e.el.clientHeight;e.renderer.setSize(t,i),e.camera.aspect=t/i,e.camera.updateProjectionMatrix()},e}return Object(l.a)(i,[{key:\"componentDidMount\",value:function(){this.worldSetup(),this.agentSetup(this.agentParams),this.sceneSetup(),this.addCustomSceneObjects(),this.startAnimationLoop(),window.addEventListener(\"resize\",this.handleWindowResize),this.setState({time:0}),this.renderer.render(this.scene,this.camera)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.handleWindowResize),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:\"calcAgentNeighbors\",value:function(e){this.debugNeighbors&&console.log(\"Calculating neighbors\");for(var t=0;t<this.agents.length;t++){this.debugNeighbors&&console.log(\"Agent: \"+t);for(var i=[],s=this.agents[t].getPosition(),a=0;a<this.agents.length;a++)if(a!==t){var n=this.agents[a].getPosition().distanceToSquared(s);i.push({dist:n,agentIdx:a})}i.sort((function(e,t){return e.dist-t.dist})),this.debugNeighbors&&console.log(JSON.stringify(i));for(var r=[],o=Math.min(e,i.length),h=0;h<o;h++)r[h]=i[h].agentIdx;this.debugNeighbors&&console.log(JSON.stringify(r)),this.agents[t].setNeighbors(r)}if(-1!==this.showNeighborsFor)for(var l=this.agents[this.showNeighborsFor].getNeighbors(),c=0;c<l.length;c++)this.agents[l[c]].setMarked(!0)}},{key:\"sleep\",value:function(e){var t=Date.now(),i=null;do{i=Date.now()}while(i-t<e)}},{key:\"sendMessage\",value:function(e,t,i){if(this.debugNetwork&&console.log(\"Send message. from: \"+e+\" to: \"+t+\" msg: \"+JSON.stringify(i)),\"undefined\"===typeof e)throw\"From is required\";if(\"undefined\"===typeof t)throw\"To is required\";this.messages.push({from:e,to:t,msg:i,time:this.time+0*Math.random()})}},{key:\"handleSimPause\",value:function(){this.simPaused=!0}},{key:\"handleSimPlay\",value:function(){this.simPaused=!1,this.lastLoopTime=(new Date).getTime()}},{key:\"handleSimStep\",value:function(){this.simPaused=!1,this.lastLoopTime=(new Date).getTime(),this.pauseTime=this.time+this.agentParams.cycleTime}},{key:\"handleSimReset\",value:function(){for(this.simPaused=!0,this.time=0,this.setState({time:this.time}),this.lastLoopTime=(new Date).getTime(),this.messages=[];this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);this.agentSetup(this.agentParams),this.addCustomSceneObjects()}},{key:\"handleCameraReset\",value:function(){this.controls.reset()}},{key:\"handleAgentParamsChanged\",value:function(e){console.log(\"Params changed: \"+JSON.stringify(e)),this.agentParams=Object(o.a)(Object(o.a)({},this.agentParams),e),this.handleSimReset()}},{key:\"markNeighbors\",value:function(e){for(var t=0;t<this.agents.length;t++)this.agents[t].setMarked(!1);for(var i=this.agents[e].getNeighbors(),s=0;s<i.length;s++)this.agents[i[s]].setMarked(!this.agents[i[s]].getMarked())}},{key:\"showAliveCount\",value:function(e){console.log(\"Agent: \"+e);for(var t=this.agents[e].getNeighbors(),i=0,s=0;s<t.length;s++)console.log(\"neighbor: \"+t[s]+\" alive: \"+this.agents[t[s]].isAlive()),this.agents[t[s]].isAlive()&&i++;console.log(\"aliveCount: \"+i)}},{key:\"handleKeyPressed\",value:function(e){switch(e.key){case\"0\":this.markNeighbors(90),this.showAliveCount(90);break;case\"1\":this.markNeighbors(91),this.showAliveCount(91);break;case\"2\":this.markNeighbors(92),this.showAliveCount(92);break;case\"3\":this.markNeighbors(93),this.showAliveCount(93);break;case\"4\":this.markNeighbors(94),this.showAliveCount(94);break;case\"5\":this.markNeighbors(95),this.showAliveCount(95);break;case\"6\":this.markNeighbors(96),this.showAliveCount(96);break;case\"7\":this.markNeighbors(97),this.showAliveCount(97);break;case\"8\":this.markNeighbors(98),this.showAliveCount(98);break;case\"9\":this.markNeighbors(99),this.showAliveCount(99);break;case\"s\":this.handleSimStep();break;case\"c\":for(var t=0;t<this.agents.length;t++)this.agents[t].setMarked(!1)}}},{key:\"render\",value:function(){var e=this;return a.a.createElement(\"div\",null,a.a.createElement(\"div\",{style:M,ref:function(t){return e.el=t},onKeyPress:function(t){return e.handleKeyPressed(t)},autoFocus:!0}),a.a.createElement(\"div\",{style:{display:\"flex\"}},a.a.createElement(\"div\",null,a.a.createElement(P,{time:this.state.time,resetAction:function(t){return e.handleSimReset()},pauseAction:function(t){return e.handleSimPause()},playAction:function(t){return e.handleSimPlay()},stepAction:function(t){return e.handleSimStep()}}),a.a.createElement(O,{resetAction:function(t){return e.handleCameraReset()}})),a.a.createElement(N,Object.assign({},this.agentParams,{paramsChangedAction:function(t,i){return e.handleAgentParamsChanged(t,i)}}))))}}]),i}(s.Component),R=Object(s.memo)(z);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(R,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);","extractedComments":[]}